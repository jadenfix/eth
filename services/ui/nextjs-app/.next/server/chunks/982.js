"use strict";exports.id=982,exports.ids=[982],exports.modules={2020:(e,t,i)=>{i.a(e,async(e,t)=>{try{var s=i(3578),r=i(8502),a=i(9010),o=e([s,r,a]);[s,r,a]=o.then?(await o)():o,t()}catch(e){t(e)}})},7982:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.d(t,{aM:()=>n.aM,bN:()=>a.bN,f6:()=>n.f6,kH:()=>o.kH,m0:()=>o.m0});var r=i(2020),a=i(5959),o=i(1632),n=i(4407),l=e([r,a,o,n]);[r,a,o,n]=l.then?(await l)():l,s()}catch(e){s(e)}})},2870:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.r(t),i.d(t,{DockableLayout:()=>m,default:()=>f,layoutTemplates:()=>b});var r=i(997),a=i(6689),o=i.n(a),n=i(2210),l=i(3196),d=i(1152),c=i(5277),h=i(495),x=i(1589),u=e([n,l,d,c]);[n,l,d,c]=u.then?(await u)():u;let p=(e,t,i,s)=>{let[r,n]=(0,a.useState)(!1),l=(0,a.useRef)(null),d=(0,a.useRef)({x:0,y:0}),c=(0,a.useRef)({width:0,height:0}),h=(0,a.useCallback)(t=>{e.isResizable&&(n(!0),d.current={x:t.clientX,y:t.clientY},c.current={width:e.position.width,height:e.position.height},t.preventDefault(),t.stopPropagation())},[e.isResizable,e.position]),x=(0,a.useCallback)(a=>{if(!r)return;let o=a.clientX-d.current.x,n=a.clientY-d.current.y,l=c.current.width+o,h=c.current.height+n;l=Math.max(l,3*i),h=Math.max(h,2*i),s&&(l=Math.round(l/i)*i,h=Math.round(h/i)*i),t({position:{...e.position,width:l,height:h}})},[r,i,s,e.position,t]),u=(0,a.useCallback)(()=>{n(!1)},[]);return o().useEffect(()=>{if(r)return document.addEventListener("mousemove",x),document.addEventListener("mouseup",u),document.body.style.cursor="se-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""}},[r,x,u]),{resizeRef:l,isResizing:r,handleMouseDown:h}},g=({panel:e,onUpdate:t,onClose:i,gridSize:s,snapToGrid:a})=>{let{resizeRef:o,isResizing:d,handleMouseDown:u}=p(e,t,s,a),[{isDragging:g},y,m]=(0,l.useDrag)({type:"panel",item:{id:e.id,type:e.type},canDrag:e.isDraggable&&!d,collect:e=>({isDragging:e.isDragging()})}),[,b]=(0,l.useDrop)({accept:"panel",hover:(i,r)=>{if(i.id===e.id)return;let n=o.current?.getBoundingClientRect();if(!n)return;let l=r.getClientOffset();if(!l)return;let d=l.x-n.width/2,c=l.y-n.height/2;a&&(d=Math.round(d/s)*s,c=Math.round(c/s)*s),d=Math.max(0,d),c=Math.max(0,c),t({position:{...e.position,x:d,y:c}})}}),f=e=>{o.current=e,y(b(e))},j=(0,n.useColorModeValue)("white","gray.900"),S=(0,n.useColorModeValue)("gray.200","gray.600"),k=(0,n.useColorModeValue)("rgba(0, 0, 0, 0.1)","rgba(0, 0, 0, 0.3)"),w=e.component;return e.isMinimized?r.jsx(n.Box,{ref:f,position:"absolute",bottom:"20px",left:`${e.position.x}px`,width:"200px",height:"40px",bg:j,border:"1px solid",borderColor:S,borderRadius:"md",shadow:"md",opacity:g?.5:1,cursor:e.isDraggable?"move":"default",zIndex:e.zIndex||1,transition:x.ff.panel,children:r.jsx(c.V9,{title:e.title,onMaximize:()=>t({isMinimized:!1}),onClose:i,isDraggable:e.isDraggable,dragHandle:!0})}):(0,r.jsxs)(n.Box,{ref:f,position:"absolute",left:`${e.position.x}px`,top:`${e.position.y}px`,width:`${e.position.width}px`,height:`${e.position.height}px`,bg:j,border:"1px solid",borderColor:S,borderRadius:"lg",shadow:g?`0 8px 25px ${k}`:`0 4px 12px ${k}`,opacity:g?.8:1,zIndex:e.zIndex||1,overflow:"hidden",transition:x.ff.panel,_hover:{shadow:`0 6px 20px ${k}`},children:[(0,r.jsxs)(n.VStack,{spacing:0,height:"100%",children:[r.jsx(c.V9,{title:e.title,subtitle:e.subtitle,onClose:i,onMinimize:()=>t({isMinimized:!0}),onMaximize:()=>t({isMaximized:!e.isMaximized,position:e.isMaximized?e.position:{x:0,y:0,width:window.innerWidth,height:window.innerHeight}}),isCollapsible:!0,isCollapsed:e.isCollapsed,onToggleCollapse:()=>t({isCollapsed:!e.isCollapsed}),isResizable:e.isResizable,isDraggable:e.isDraggable,dragHandle:!0}),!e.isCollapsed&&r.jsx(n.Box,{flex:"1",width:"100%",overflow:"hidden",children:r.jsx(w,{...e.props})})]}),e.isResizable&&!e.isCollapsed&&r.jsx(n.Box,{position:"absolute",bottom:"0",right:"0",width:"15px",height:"15px",cursor:"se-resize",onMouseDown:u,_hover:{bg:h.O9.primary[100]},children:r.jsx(n.Box,{position:"absolute",bottom:"2px",right:"2px",width:"10px",height:"10px",borderRight:"2px solid",borderBottom:"2px solid",borderColor:"gray.400",opacity:.6})})]})},y=({gridSize:e,show:t})=>t?r.jsx(n.Box,{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.1,pointerEvents:"none",backgroundImage:`
        linear-gradient(to right, ${h.O9.gray[300]} 1px, transparent 1px),
        linear-gradient(to bottom, ${h.O9.gray[300]} 1px, transparent 1px)
      `,backgroundSize:`${e}px ${e}px`}):null,m=({panels:e,onPanelUpdate:t,onPanelClose:i,onPanelAdd:s,gridSize:o=20,snapToGrid:c=!1,showGrid:h=!1,maxPanels:x=10})=>{let u=(0,a.useCallback)((e,i)=>{t&&t(e,i)},[t]),p=(0,a.useCallback)(e=>{i&&i(e)},[i]);return r.jsx(l.DndProvider,{backend:d.HTML5Backend,children:(0,r.jsxs)(n.Box,{position:"relative",width:"100%",height:"100vh",bg:(0,n.useColorModeValue)("gray.50","gray.800"),overflow:"hidden",children:[r.jsx(y,{gridSize:o,show:h}),e.map(e=>r.jsx(g,{panel:e,onUpdate:t=>u(e.id,t),onClose:()=>p(e.id),gridSize:o,snapToGrid:c},e.id))]})})},b={explorer:(e,t)=>[{type:"graph-explorer",title:"Network Graph",position:{x:0,y:0,width:.6*e,height:.7*t}},{type:"data-table",title:"Transaction Details",position:{x:.6*e,y:0,width:.4*e,height:.5*t}},{type:"timeseries-chart",title:"Activity Timeline",position:{x:0,y:.7*t,width:e,height:.3*t}}],dashboard:(e,t)=>[{type:"timeseries-chart",title:"Transaction Volume",position:{x:0,y:0,width:.5*e,height:.4*t}},{type:"compliance-map",title:"Risk Heatmap",position:{x:.5*e,y:0,width:.5*e,height:.4*t}},{type:"data-table",title:"High Risk Addresses",position:{x:0,y:.4*t,width:e,height:.6*t}}],analysis:(e,t)=>[{type:"graph-explorer",title:"Address Cluster",position:{x:0,y:0,width:.7*e,height:.6*t}},{type:"code-console",title:"Analysis Console",position:{x:0,y:.6*t,width:.7*e,height:.4*t}},{type:"data-table",title:"Evidence Table",position:{x:.7*e,y:0,width:.3*e,height:t}}]},f=m;s()}catch(e){s(e)}})},5225:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.d(t,{m:()=>p});var r=i(997),a=i(6689),o=i(2210),n=i(8502),l=i(9010),d=i(495),c=i(4532),h=e([o,n,l]);[o,n,l]=h.then?(await h)():h;let x=({layoutType:e,onLayoutChange:t,showLabels:i,onToggleLabels:s,nodeScale:a,onNodeScaleChange:l,edgeWidth:d,onEdgeWidthChange:c,onFitToScreen:h,onResetZoom:x,onExport:u,selectedCount:p,onClearSelection:g})=>{let y=[{value:"force",label:"Force Directed"},{value:"circular",label:"Circular"},{value:"hierarchical",label:"Hierarchical"},{value:"grid",label:"Grid"}];return(0,r.jsxs)(o.VStack,{spacing:4,align:"stretch",p:4,bg:(0,o.useColorModeValue)("white","gray.800"),children:[(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"Layout"}),(0,r.jsxs)(o.Menu,{children:[r.jsx(o.MenuButton,{as:o.Button,size:"sm",variant:"outline",rightIcon:r.jsx(n.JO,{name:"chevron-down",size:"xs"}),children:y.find(t=>t.value===e)?.label||"Force Directed"}),r.jsx(o.MenuList,{children:y.map(e=>(0,r.jsxs)(o.MenuItem,{onClick:()=>t(e.value),children:[r.jsx(n.JO,{name:"graph",size:"sm",mr:2}),e.label]},e.value))})]})]}),(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"Display"}),r.jsx(o.VStack,{spacing:2,align:"stretch",children:(0,r.jsxs)(o.HStack,{children:[r.jsx(o.Button,{size:"xs",variant:i?"primary":"outline",onClick:s,leftIcon:r.jsx(n.JO,{name:"tag",size:"xs"}),children:"Labels"}),p>0&&(0,r.jsxs)(o.Button,{size:"xs",variant:"outline",onClick:g,leftIcon:r.jsx(n.JO,{name:"close",size:"xs"}),children:["Clear (",p,")"]})]})})]}),(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"Node Size"}),(0,r.jsxs)(o.Slider,{value:a,onChange:l,min:.5,max:2,step:.1,size:"sm",children:[r.jsx(o.SliderTrack,{children:r.jsx(o.SliderFilledTrack,{})}),r.jsx(o.SliderThumb,{})]}),(0,r.jsxs)(o.HStack,{justify:"space-between",mt:1,children:[r.jsx(o.Text,{fontSize:"xs",color:"gray.500",children:"Small"}),r.jsx(o.Text,{fontSize:"xs",color:"gray.500",children:"Large"})]})]}),(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"Edge Width"}),(0,r.jsxs)(o.Slider,{value:d,onChange:c,min:1,max:5,step:.5,size:"sm",children:[r.jsx(o.SliderTrack,{children:r.jsx(o.SliderFilledTrack,{})}),r.jsx(o.SliderThumb,{})]}),(0,r.jsxs)(o.HStack,{justify:"space-between",mt:1,children:[r.jsx(o.Text,{fontSize:"xs",color:"gray.500",children:"Thin"}),r.jsx(o.Text,{fontSize:"xs",color:"gray.500",children:"Thick"})]})]}),(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"View"}),(0,r.jsxs)(o.VStack,{spacing:1,children:[r.jsx(o.Button,{size:"xs",variant:"ghost",onClick:h,leftIcon:r.jsx(n.JO,{name:"expand",size:"xs"}),children:"Fit to Screen"}),r.jsx(o.Button,{size:"xs",variant:"ghost",onClick:x,leftIcon:r.jsx(n.JO,{name:"refresh",size:"xs"}),children:"Reset Zoom"}),r.jsx(o.Button,{size:"xs",variant:"ghost",onClick:u,leftIcon:r.jsx(n.JO,{name:"download",size:"xs"}),children:"Export Image"})]})]})]})},u=({node:e,onClose:t})=>{let i;return e?r.jsx(o.Box,{position:"absolute",top:"20px",right:"20px",width:"300px",bg:(0,o.useColorModeValue)("white","gray.800"),border:"1px solid",borderColor:(0,o.useColorModeValue)("gray.200","gray.600"),borderRadius:"lg",shadow:"lg",p:4,zIndex:10,children:(0,r.jsxs)(o.VStack,{spacing:3,align:"stretch",children:[(0,r.jsxs)(o.HStack,{children:[r.jsx(n.JO,{name:e.type,color:(e=>{switch(e){case"address":return d.O9.entity.address;case"contract":return d.O9.entity.contract;case"transaction":return d.O9.entity.transaction;case"token":return d.O9.entity.token;case"block":return d.O9.entity.block;default:return d.O9.gray[500]}})(e.type),size:"md"}),(0,r.jsxs)(o.VStack,{spacing:0,align:"start",flex:"1",children:[r.jsx(o.Text,{...c.sq.body,children:e.label}),r.jsx(o.Badge,{colorScheme:"blue",fontSize:"xs",children:e.type.toUpperCase()})]}),r.jsx(o.Button,{size:"xs",variant:"ghost",onClick:t,children:r.jsx(n.JO,{name:"close",size:"xs"})})]}),void 0!==e.riskScore&&(0,r.jsxs)(o.HStack,{justify:"space-between",children:[r.jsx(o.Text,{fontSize:"sm",color:"gray.600",children:"Risk Score"}),(0,r.jsxs)(o.Badge,{colorScheme:"red",fontSize:"xs",bg:(i=e.riskScore)>=80?d.O9.risk.critical:i>=60?d.O9.risk.high:i>=40?d.O9.risk.medium:d.O9.risk.low,color:"white",children:[e.riskScore,"/100"]})]}),void 0!==e.balance&&(0,r.jsxs)(o.HStack,{justify:"space-between",children:[r.jsx(o.Text,{fontSize:"sm",color:"gray.600",children:"Balance"}),(0,r.jsxs)(o.Text,{fontSize:"sm",fontWeight:"medium",children:[e.balance.toLocaleString()," ETH"]})]}),void 0!==e.txCount&&(0,r.jsxs)(o.HStack,{justify:"space-between",children:[r.jsx(o.Text,{fontSize:"sm",color:"gray.600",children:"Transactions"}),r.jsx(o.Text,{fontSize:"sm",fontWeight:"medium",children:e.txCount.toLocaleString()})]}),e.metadata&&Object.keys(e.metadata).length>0&&(0,r.jsxs)(o.Box,{children:[r.jsx(o.Text,{fontSize:"xs",fontWeight:"semibold",color:"gray.600",mb:2,children:"Additional Info"}),r.jsx(o.VStack,{spacing:1,align:"stretch",children:Object.entries(e.metadata).slice(0,5).map(([e,t])=>(0,r.jsxs)(o.HStack,{justify:"space-between",children:[r.jsx(o.Text,{fontSize:"xs",color:"gray.500",textTransform:"capitalize",children:e.replace(/([A-Z])/g," $1")}),r.jsx(o.Text,{fontSize:"xs",fontWeight:"medium",noOfLines:1,children:String(t)})]},e))})]}),(0,r.jsxs)(o.HStack,{spacing:2,children:[(0,r.jsxs)(o.Button,{size:"xs",variant:"primary",flex:"1",children:[r.jsx(n.JO,{name:"search",size:"xs",mr:1}),"Explore"]}),(0,r.jsxs)(o.Button,{size:"xs",variant:"outline",flex:"1",children:[r.jsx(n.JO,{name:"flag",size:"xs",mr:1}),"Flag"]})]})]})}):null},p=({data:e,isLoading:t=!1,width:i=800,height:s=600,onNodeClick:h,onEdgeClick:p,onNodeHover:g,onEdgeHover:y,onSelectionChange:m,layoutType:b="force",showLabels:f=!0,enableZoom:j=!0,enablePan:S=!0,enableSelection:k=!0})=>{let[w,z]=(0,a.useState)(null),[C,v]=(0,a.useState)([]),[T,O]=(0,a.useState)([]),[M,E]=(0,a.useState)(b),[R,A]=(0,a.useState)(f),[B,L]=(0,a.useState)(1),[H,V]=(0,a.useState)(2),[_,D]=(0,a.useState)(!1),I=(0,a.useRef)(null),P=(0,a.useRef)(null),N=(0,o.useColorModeValue)("black","white"),G=(0,a.useCallback)(()=>{if(!I.current)return;let t=I.current,r=t.getContext("2d");r&&(r.clearRect(0,0,t.width,t.height),t.width=i,t.height=s,e.edges.forEach(t=>{let i=e.nodes.find(e=>e.id===t.source),s=e.nodes.find(e=>e.id===t.target);i&&s&&(r.beginPath(),r.moveTo(i.x||0,i.y||0),r.lineTo(s.x||0,s.y||0),r.strokeStyle=t.color||d.O9.gray[300],r.lineWidth=(t.width||H)*(t.isSelected?1.5:1),r.stroke())}),e.nodes.forEach(e=>{let t=(e.size||10)*B*(e.isSelected?1.2:1);r.beginPath(),r.arc(e.x||0,e.y||0,t,0,2*Math.PI),r.fillStyle=e.color||d.O9.primary[500],r.fill(),e.isSelected&&(r.strokeStyle=d.O9.primary[700],r.lineWidth=2,r.stroke()),R&&e.label&&(r.fillStyle=N,r.font="12px Inter",r.textAlign="center",r.fillText(e.label,e.x||0,(e.y||0)+t+15))}))},[e,i,s,B,H,R,N]);(0,a.useEffect)(()=>{G()},[G]);let $=(0,a.useCallback)(t=>{if(!I.current)return;let i=I.current.getBoundingClientRect(),s=t.clientX-i.left,r=t.clientY-i.top,a=e.nodes.find(e=>{let t=e.x||0,i=e.y||0,a=(e.size||10)*B;return Math.sqrt((s-t)**2+(r-i)**2)<=a});a?(z(a),h&&h(a)):z(null)},[e.nodes,B,h]),J=(0,a.useCallback)(()=>{console.log("Fitting graph to screen")},[]),W=(0,a.useCallback)(()=>{console.log("Resetting zoom")},[]),F=(0,a.useCallback)(()=>{if(!I.current)return;let e=document.createElement("a");e.download="graph-export.png",e.href=I.current.toDataURL(),e.click()},[]),U=(0,a.useCallback)(()=>{v([]),O([]),z(null),m&&m([],[])},[m]);return t?r.jsx(o.Box,{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bg:(0,o.useColorModeValue)("gray.50","gray.900"),children:(0,r.jsxs)(o.VStack,{spacing:4,children:[r.jsx(l.$j,{size:"lg",variant:"ring"}),r.jsx(o.Text,{color:"gray.500",...c.sq.body,children:"Loading graph data..."})]})}):(0,r.jsxs)(o.Box,{position:"relative",width:"100%",height:"100%",overflow:"hidden",children:[(0,r.jsxs)(o.Box,{ref:P,width:"100%",height:"100%",bg:(0,o.useColorModeValue)("white","gray.900"),position:"relative",children:[r.jsx("canvas",{ref:I,width:i,height:s,onClick:$,style:{width:"100%",height:"100%",cursor:S?"grab":"default"}}),r.jsx(o.Box,{position:"absolute",bottom:"20px",left:"20px",bg:(0,o.useColorModeValue)("white","gray.800"),px:3,py:2,borderRadius:"md",shadow:"sm",border:"1px solid",borderColor:(0,o.useColorModeValue)("gray.200","gray.600"),children:(0,r.jsxs)(o.HStack,{spacing:4,children:[(0,r.jsxs)(o.HStack,{spacing:1,children:[r.jsx(n.JO,{name:"graph",size:"xs",color:"gray.500"}),(0,r.jsxs)(o.Text,{fontSize:"xs",color:"gray.600",children:[e.nodes.length," nodes"]})]}),(0,r.jsxs)(o.HStack,{spacing:1,children:[r.jsx(n.JO,{name:"link",size:"xs",color:"gray.500"}),(0,r.jsxs)(o.Text,{fontSize:"xs",color:"gray.600",children:[e.edges.length," edges"]})]}),C.length>0&&(0,r.jsxs)(o.HStack,{spacing:1,children:[r.jsx(n.JO,{name:"check",size:"xs",color:d.O9.primary[500]}),(0,r.jsxs)(o.Text,{fontSize:"xs",color:d.O9.primary[500],children:[C.length," selected"]})]})]})}),r.jsx(o.Box,{position:"absolute",top:"20px",left:"20px",children:r.jsx(o.Button,{size:"sm",variant:_?"primary":"outline",onClick:()=>D(!_),leftIcon:r.jsx(n.JO,{name:"settings",size:"sm"}),children:"Controls"})})]}),_&&r.jsx(o.Box,{position:"absolute",top:"0",left:"0",width:"300px",height:"100%",bg:(0,o.useColorModeValue)("white","gray.800"),borderRight:"1px solid",borderColor:(0,o.useColorModeValue)("gray.200","gray.600"),shadow:"lg",zIndex:5,children:(0,r.jsxs)(o.VStack,{spacing:0,height:"100%",children:[(0,r.jsxs)(o.HStack,{justify:"space-between",w:"100%",p:4,borderBottom:"1px solid",borderColor:(0,o.useColorModeValue)("gray.200","gray.600"),children:[r.jsx(o.Text,{...c.sq.h4,children:"Graph Controls"}),r.jsx(o.Button,{size:"xs",variant:"ghost",onClick:()=>D(!1),children:r.jsx(n.JO,{name:"close",size:"xs"})})]}),r.jsx(o.Box,{flex:"1",overflow:"auto",width:"100%",children:r.jsx(x,{layoutType:M,onLayoutChange:e=>E(e),showLabels:R,onToggleLabels:()=>A(!R),nodeScale:B,onNodeScaleChange:L,edgeWidth:H,onEdgeWidthChange:V,onFitToScreen:J,onResetZoom:W,onExport:F,selectedCount:C.length+T.length,onClearSelection:U})})]})}),r.jsx(u,{node:w,onClose:()=>z(null)})]})};s()}catch(e){s(e)}})},1632:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.d(t,{kH:()=>r.DockableLayout,m0:()=>a.m});var r=i(2870),a=i(5225),o=i(4934),n=e([r,a,o]);[r,a,o]=n.then?(await n)():n,s()}catch(e){s(e)}})},4096:(e,t,i)=>{i.d(t,{aM:()=>d});var s=i(997),r=i(6689);let a={panels:[],activePanel:null,isGridVisible:!1,snapToGrid:!0,gridSize:20,layoutHistory:[],currentHistoryIndex:-1,maxHistoryLength:20},o=(e,t)=>{switch(t.type){case"ADD_PANEL":{let i={...t.panel,id:`panel_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,zIndex:Math.max(...e.panels.map(e=>e.zIndex||0),0)+1};return{...e,panels:[...e.panels,i],activePanel:i.id}}case"UPDATE_PANEL":return{...e,panels:e.panels.map(e=>e.id===t.id?{...e,...t.updates}:e)};case"REMOVE_PANEL":{let i=e.panels.filter(e=>e.id!==t.id);return{...e,panels:i,activePanel:e.activePanel===t.id?i.length>0?i[0].id:null:e.activePanel}}case"SET_ACTIVE_PANEL":{let i=t.id?e.panels.map(i=>({...i,zIndex:i.id===t.id?Math.max(...e.panels.map(e=>e.zIndex||0))+1:i.zIndex})):e.panels;return{...e,panels:i,activePanel:t.id}}case"TOGGLE_GRID":return{...e,isGridVisible:void 0!==t.visible?t.visible:!e.isGridVisible};case"TOGGLE_SNAP_TO_GRID":return{...e,snapToGrid:void 0!==t.enabled?t.enabled:!e.snapToGrid};case"SET_GRID_SIZE":return{...e,gridSize:t.size};case"LOAD_LAYOUT":return{...e,panels:t.panels,activePanel:t.panels.length>0?t.panels[0].id:null};case"SAVE_SNAPSHOT":{let i={id:`snapshot_${Date.now()}`,timestamp:Date.now(),panels:JSON.parse(JSON.stringify(e.panels)),name:t.name||`Layout ${e.layoutHistory.length+1}`},s=[...e.layoutHistory.slice(0,e.currentHistoryIndex+1),i].slice(-e.maxHistoryLength);return{...e,layoutHistory:s,currentHistoryIndex:s.length-1}}case"RESTORE_SNAPSHOT":{let i=e.layoutHistory[t.index];if(!i)return e;return{...e,panels:JSON.parse(JSON.stringify(i.panels)),activePanel:i.panels.length>0?i.panels[0].id:null,currentHistoryIndex:t.index}}case"CLEAR_LAYOUT":return{...e,panels:[],activePanel:null};case"ARRANGE_PANELS":{let i=n(e.panels,t.arrangement);return{...e,panels:i}}default:return e}},n=(e,t)=>{switch(t){case"tile":{let t=Math.ceil(Math.sqrt(e.length)),i=Math.ceil(e.length/t),s=Math.floor(1200/t),r=Math.floor(800/i);return e.map((e,i)=>({...e,position:{...e.position,x:i%t*s,y:Math.floor(i/t)*r,width:s-10,height:r-10}}))}case"cascade":return e.map((e,t)=>({...e,position:{...e.position,x:30*t,y:30*t,width:Math.min(600,1200-30*t-50),height:Math.min(400,800-30*t-50)}}));case"stack":return e.map((t,i)=>({...t,position:{...t.position,x:200+5*i,y:100+5*i,width:800,height:600},zIndex:e.length-i}));default:return e}},l=(0,r.createContext)(void 0),d=({children:e,initialPanels:t=[],persistLayout:n=!0,storageKey:d="palantir_layout"})=>{let[c,h]=(0,r.useReducer)(o,{...a,panels:t,activePanel:t.length>0?t[0].id:null});(0,r.useEffect)(()=>{},[n,d]),(0,r.useEffect)(()=>{},[c.panels,c.isGridVisible,c.snapToGrid,c.gridSize,n,d]);let x=(0,r.useCallback)(e=>{h({type:"ADD_PANEL",panel:e})},[]),u=(0,r.useCallback)((e,t)=>{h({type:"UPDATE_PANEL",id:e,updates:t})},[]),p=(0,r.useCallback)(e=>{h({type:"REMOVE_PANEL",id:e})},[]),g=(0,r.useCallback)(e=>{h({type:"SET_ACTIVE_PANEL",id:e})},[]),y=(0,r.useCallback)(()=>{h({type:"CLEAR_LAYOUT"})},[]),m=(0,r.useCallback)(e=>{h({type:"SAVE_SNAPSHOT",name:e})},[]),b=(0,r.useCallback)(e=>{h({type:"RESTORE_SNAPSHOT",index:e})},[]),f=(0,r.useCallback)(e=>{h({type:"ARRANGE_PANELS",arrangement:e})},[]),j=(0,r.useCallback)(e=>{Promise.resolve().then(i.bind(i,2870)).then(({layoutTemplates:t})=>{let i=t[e];i&&"function"==typeof i&&h({type:"LOAD_LAYOUT",panels:i(1200,800).map((t,i)=>({...t,id:`template_${e}_${i}_${Date.now()}`,isDraggable:!0,isResizable:!0,zIndex:i+1}))})}).catch(e=>{console.error("Failed to load template:",e)})},[]);return s.jsx(l.Provider,{value:{state:c,dispatch:h,addPanel:x,updatePanel:u,removePanel:p,setActivePanel:g,clearLayout:y,saveSnapshot:m,restoreSnapshot:b,arrangeLayout:f,loadTemplate:j},children:e})}},1646:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.d(t,{f:()=>h});var r=i(997);i(6689);var a=i(2210),o=i(495),n=i(4532),l=i(1589),d=e([a]);a=(d.then?(await d)():d)[0];let c=(0,a.extendTheme)({config:{initialColorMode:"light",useSystemColorMode:!0},colors:{primary:o.O9.primary,gray:o.O9.gray,semantic:{success:o.O9.success,warning:o.O9.warning,error:o.O9.error,info:o.O9.info},risk:o.O9.risk,entity:o.O9.entity},fonts:{heading:n.Rq.heading,body:n.Rq.body,mono:n.Rq.mono},fontSizes:n.CH,fontWeights:n.vC,transitions:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform"},easing:{ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},components:{Button:{baseStyle:{fontWeight:"medium",borderRadius:"md",transition:l.ff.button},variants:{primary:{bg:"primary.600",color:"white",_hover:{bg:"primary.700",transform:"translateY(-1px)"},_active:{bg:"primary.800",transform:"translateY(0px)"}}}},Card:{baseStyle:{container:{borderRadius:"lg",boxShadow:"md",transition:l.ff.hover,_hover:{boxShadow:"lg"}}}},Modal:{baseStyle:{dialog:{borderRadius:"xl",boxShadow:"2xl"},overlay:{backdropFilter:"blur(4px)"}}}},styles:{global:e=>({body:{bg:"dark"===e.colorMode?"gray.900":"gray.50",color:"dark"===e.colorMode?"white":"gray.800",fontFamily:"body"},"*::placeholder":{color:"dark"===e.colorMode?"gray.400":"gray.500"},"*, *::before, &::after":{borderColor:"dark"===e.colorMode?"gray.600":"gray.200"}})}}),h=({children:e})=>r.jsx(a.ChakraProvider,{theme:c,resetCSS:!0,children:e});s()}catch(e){s(e)}})},4407:(e,t,i)=>{i.a(e,async(e,s)=>{try{i.d(t,{aM:()=>a.aM,f6:()=>r.f});var r=i(1646),a=i(4096),o=e([r]);r=(o.then?(await o)():o)[0],s()}catch(e){s(e)}})}};